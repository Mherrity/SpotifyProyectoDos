{"version":3,"sources":["Login.js","App.js","index.js"],"names":["Login","alt","src","Component","spotifyApi","SpotifyWebApi","App","onSuccess","response","setAccessToken","access_token","setState","token","incrementSong","ArtistID","index","state","Artists","len","Artist","songDict","length","console","log","prevState","Object","assign","decrementSong","makeSongDict","artistID","tracks","map","track","preview_url","getTopArtists","getMyTopArtists","then","items","forEach","artist","id","images","url","name","popularity","getRelatedArtists","getArtistRelatedArtists","artists","playMusic","currentlyPlaying","pause","CurrentPlaying","Audio","play","getArtistTopTracks","saveSong","addToMySavedTracks","stopMusic","className","clientId","redirectUri","scope","this","img","key","ID","Name","Image","onClick","onMouseEnter","onMouseOut","Pop","size","ReactDOM","render","path","component","exact","document","getElementById"],"mappings":"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","file":"static/js/main.4a50c8d3.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\n\nexport default class Login extends Component {\n\n    render(){\n    return (\n        <img alt='whoops' src= 'https://images.pexels.com/photos/50582/selfie-monkey-self-portrait-macaca-nigra-50582.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500'/>\n    );\n    }\n}\n","import React, { Component } from 'react';\nimport './App.css';\nimport { FaPlus, \n        FaMinus,\n        FaChevronRight,\n        FaChevronLeft,\n} from \"react-icons/fa\";\nimport { IconContext } from \"react-icons\";\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport { importDeclaration } from '@babel/types';\n\nimport SpotifyLogin from 'react-spotify-login';\n\n\n\n\nvar spotifyApi = new SpotifyWebApi();\nclass App extends Component {\n  constructor(){\n    super();\n\n  \n    this.state = {\n      images: false,\n      currentlyPlaying: null,\n      Artists: {},\n      token: null\n    }\n  }\n\n  onSuccess=(response)=>{\n    spotifyApi.setAccessToken(response.access_token)\n    this.setState({token: response.access_token})\n  }\n\n\n\n  incrementSong=(ArtistID)=>{\n   let index = this.state.Artists[ArtistID]['CurrentPlaying']\n   let len = this.state.Artist[ArtistID].songDict.length\n   console.log(index)\n   console.log(len)\n   this.setState(prevState => {\n    let Artist = Object.assign({}, prevState.Artists);  // creating copy of state variable jasper\n    Artist[ArtistID]['CurrentPlaying'] =  index+1===len ? 0 : index+1   // update the name property, assign a new value                 \n    return {Artist};                                 // return new object jasper object\n  })\n  console.log(this.state.Artists[ArtistID]['CurrentPlaying'])\n  }\n\n  decrementSong=(ArtistID)=>{\n    let index = this.state.Artists[ArtistID]['CurrentPlaying']\n    let len = this.state.Artist[ArtistID].songDict.length\n    console.log(index)\n    console.log(len)\n    this.setState(prevState => {\n     let Artist = Object.assign({}, prevState.Artists);  // creating copy of state variable jasper\n     Artist[ArtistID]['CurrentPlaying'] =  index-1===-1 ? len-1 : index-1   // update the name property, assign a new value                 \n     return {Artist};                                 // return new object jasper object\n   })\n   console.log(this.state.Artists[ArtistID]['CurrentPlaying'])\n   }\n  \n  makeSongDict=(response,artistID)=>{\n    this.setState(prevState => {\n      let Artist = Object.assign({}, prevState.Artists);  // creating copy of state variable jasper\n      Artist[artistID]['songDict'] =  response.tracks.map((track)=>{\n          return  track.preview_url\n      })                  // update the name property, assign a new value                 \n      return {Artist};                                 // return new object jasper object\n    })\n  }\n\n\n\n\n\n  getTopArtists=()=>{\n    spotifyApi.getMyTopArtists()\n    .then((response)=>{\n      response.items.forEach((artist)=> { \n        this.setState(({ Artists }) => ({\n         Artists: {\n           ...Artists,\n           [artist.id]: {\"Image\": artist.images ? artist.images[0].url : 'https://i1.sndcdn.com/avatars-000047137234-96td0a-t500x500.jpg', \n           \"Name\": artist.name, \n           \"songDict\": null, \n           \"Pop\": artist.popularity,\n           \"CurrentPlaying\": 0,\n            \"CurrentlyShown\": null }\n         }\n       }))\n  })  \n      this.setState({\n          images: response.items.map(function (artist) { \n      return {\"Artist\": artist.name, \n              \"Image\": artist.images ? artist.images[0].url : 'https://i1.sndcdn.com/avatars-000047137234-96td0a-t500x500.jpg', \n              \"ID\": artist.id}\n       }) \n    })\n  })\n  }\n\n\n\ngetRelatedArtists=(ArtistID)=>{\n  console.log(ArtistID)\n  spotifyApi.getArtistRelatedArtists(ArtistID)\n  .then((response)=>{\n    response.artists.forEach((artist)=> { \n      this.setState(({ Artists }) => ({\n       Artists: {\n         ...Artists,\n         [artist.id]: {\n          \"Image\": artist.images ? artist.images[0].url : 'https://i1.sndcdn.com/avatars-000047137234-96td0a-t500x500.jpg', \n         \"Name\": artist.name, \n         \"songDict\": null, \n         \"Pop\": artist.popularity,\n         \"CurrentPlaying\": 0,\n          \"CurrentlyShown\": null }\n       }\n     }))\n   })  \n    this.setState({\n        images: response.artists.map(function (artist) { \n    return {\"Artist\": artist.name, \n    \"Image\": artist.images ? artist.images[0].url : 'https://i1.sndcdn.com/avatars-000047137234-96td0a-t500x500.jpg', \n            \"ID\": artist.id }\n     }) \n  })\n})\n}\n\n\nplayMusic=(artistID)=>{\n  if (!this.state.Artists[artistID].songDict){\n  spotifyApi.getArtistTopTracks(artistID,\"US\")\n  .then((response)=>{ \n    this.makeSongDict(response,artistID)\n    this.state.currentlyPlaying && this.state.currentlyPlaying.pause()\n\n    let index = this.state.Artists[artistID].CurrentPlaying\n    this.setState({\n        currentlyPlaying: new Audio(this.state.Artists[artistID].songDict[index]) || null\n     }) \n     this.state.currentlyPlaying && this.state.currentlyPlaying.play()\n     console.log(this.state.Artists)\n  }) }\n  else{\n    this.state.currentlyPlaying && this.state.currentlyPlaying.pause()\n    let index = this.state.Artists[artistID].CurrentPlaying\n    this.setState({\n        currentlyPlaying: new Audio(this.state.Artists[artistID].songDict[index]) || null\n     },()=>{\n     this.state.currentlyPlaying.play()})\n     console.log(this.state.Artists)\n  }\n}\n\n\nsaveSong=(artistID)=>{\n  spotifyApi.getArtistTopTracks(artistID,\"US\")\n  .then((response)=>{ \n    let index= this.state.Artists[artistID].CurrentPlaying\n     let id = response.tracks[index].id\n     spotifyApi.addToMySavedTracks([id]).then((response)=>console.log(response))\n     })\n}\n\nstopMusic=()=>{\n  this.state.currentlyPlaying && this.state.currentlyPlaying.pause()\n  this.setState({\n    currentlyPlaying: null\n }) \n}\n\n  render() {\n    return (\n    \n      <div className=\"App\">\n        \n        <SpotifyLogin \n        clientId='e5a3b8fc89bc4329808110b17b0ab96e'\n        redirectUri= 'https://mherrity.github.io/SpotifyProyectoDos/callback'\n        scope= 'user-read-private user-read-email user-library-read user-top-read user-library-modify'\n        onSuccess={ (response)=>{this.onSuccess(response)} }\n        />\n          \n        <div className=\"containerParent\">\n      \n      {this.state.images && this.state.images.map((img) => (\n       \n        <div key= {img.ID} className=\"container\">\n        < img key= {img.Name} \n        className=\"circular--portrait\" \n        alt={img.Artist} \n        src = {img.Image} \n        onClick={()=>this.getRelatedArtists(img.ID)}\n        onMouseEnter={()=>this.playMusic(img.ID)}\n        onMouseOut={()=>this.stopMusic()}\n         />\n        <div  key= {img.Name} className=\"centered\">{img.Artist}</div>\n     \n       \n      <h1 className='Popularity'>{this.state.Artists[img.ID].Pop}</h1>\n      <FaPlus className='green-plus' size={35} onClick={()=>this.saveSong(img.ID)}/>\n      <FaChevronLeft className='chevron-left' size={20} onClick={()=>this.decrementSong(img.ID)} />\n      <FaChevronRight className='chevron-right' size={20} onClick={()=>this.incrementSong(img.ID)} />\n         </div>\n       \n          ))}\n           \n        </div>\n      \n       \n        {this.state.token &&\n          <button onClick={() => this.getTopArtists()}>\n            Get Top Artists\n          </button>\n        }\n      </div>\n      \n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Login from './Login'\nimport App from './App';\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\n\n\n\n\nReactDOM.render(\n    <Router>\n     <Route path ='/' component = {App}/>\n     <Route exact path ='/callback' component = {Login}/>\n    </Router>\n    \n    , document.getElementById('root'));\n\n\n"],"sourceRoot":""}